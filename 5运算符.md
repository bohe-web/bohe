## 五.运算符

## JS 符号

**运算符**（operator）也被称为操作符，是用于实现赋值、比较和执行算数运算等功能的符号

JavaScript中常用的运算符有：  **算数**运算符、**递增**和**递减**运算符、**比较**运算符、**逻辑**运算符、**赋值**运算符 

### 算数运算符

算术运算使用的符号，用于执行两个变量或值的算术运算

![image.png](https://cdn.nlark.com/yuque/0/2020/png/335089/1577969133094-2a27f4bf-c75f-4194-8ea4-d0cbf949b141.png)

- 浮点数的精度问题：浮点数值的最高精度是17位小数，但在进行算术计算时，其精确度远远不如整数

```js
var result = 0.1 + 0.2;    // 结果不是 0.3，而是：0.30000000000000004
console.log(0.07 * 100);   // 结果不是 7，  而是：7.000000000000001
```

所以：不要直接判断两个浮点数是否相等 !  

- 表达式和返回值

表达式：是由数字、运算符、变量等以能求得数值的有意义排列方法所得的组合（简单理解：是由数字、运算符、变量等组成的式子 ）

返回值：表达式最终都会有一个结果，这个结果可以返回给我们，称为返回值 



### 递增和递减运算符  

如果需要反复给数字变量添加或减去1，可以使用递增`++`和递减`--`运算符来完成

在 JavaScript 中，递增`++`和递减 `--` 既可以放在变量前面，也可以放在变量后面

- 放在变量前面时，我们可以称为前置递增（递减）运算符
- 放在变量后面时，我们可以称为后置递增（递减）运算符

注意：递增和递减运算符必须和变量配合使用

- 前置递增运算符`++num` ：前置递增，就是自加1，类似于 `num=num+1`，但是 `++num` 写起来更简单

  使用口诀：**先自加，后返回值** 

  ```js
  var num = 10;
  alert(++num + 10);   // 21
  ```

  - 后置递增运算符`num++` ：后置递增，就是自加1，类似于 `num= num+1` ，但是 `num++` 写起来更简单

  ```js
  var  num = 10;
  alert(10 + num++);  // 20
  ```

  使用口诀：**先返回原值，后自加**  

  

  前置递增和后置递增运算符可以简化代码的编写，让变量的值 + 1 ，比以前写法更简单，单独使用时，运行结果相同，与其他代码联用时，执行结果会不同

  

  开发时，大多使用后置递增/减，并且代码独占一行，例如：`num++;` 或者 `num--;` 

  

  ### 比较运算符  

  比较运算符（关系运算符）是两个数据进行比较时所使用的运算符，比较运算后，会返回一个布尔值（true / false）作为比较运算的结果

  ![image.png](https://cdn.nlark.com/yuque/0/2020/png/335089/1577970716141-a7d69d98-edfa-4213-9f0a-ff635e46e425.png)

- =小结

![image.png](https://cdn.nlark.com/yuque/0/2020/png/335089/1577970814314-6af5e675-d332-4715-b44c-648c87c42b21.png)

注意：等号、非等号比较的是值，而全等号、非全等号比较的是值和类型

```js
console.log(18 == '18');        //true
console.log(18 === '18');       //false
```

### 逻辑运算符

逻辑运算符是用来进行布尔值运算的运算符，其返回值也是布尔值，开发中经常用于多个条件的判断 

![image.png](https://cdn.nlark.com/yuque/0/2020/png/335089/1577971122178-b0549026-168f-4c3c-b6e2-47d272fbbc7b.png)

- 逻辑与&&：两边都是 true才返回 true，否则返回 false  **全真为真，一假必假**

  ![image.png](https://cdn.nlark.com/yuque/0/2020/png/335089/1577971181367-5236a3eb-4897-4569-8f05-538295320e6c.png)

  

  - 逻辑或 ||：两边都为 false 才返回 false，否则都为 true    **有真为真，全假为假**

  ![image.png](https://cdn.nlark.com/yuque/0/2020/png/335089/1577971232131-b268746e-24ab-4b63-9131-da348640ed5d.png)

  - 逻辑非 ！：逻辑非（!）也叫作**取反符**，用来取一个布尔值相反的值，如 true 的相反值是 false 

  ```js
  var isOk = !true;
  console.log(isOk);  // false
  ```

  - 短路运算（逻辑中断）

  当有多个表达式（值）时，若左边的表达式值可以确定结果，就不再继续运算右边的表达式的值

  1. 逻辑与 ：`表达式1 && 表达式2`

  - 如果第一个表达式的值为真，则返回表达式2 
  - 如果第一个表达式的值为假，则返回表达式1

  ```js
  console.log( 123 && 456 );        // 456
  console.log( 0 && 456 );          // 0
  console.log( 123 && 456 && 789 );  // 789
  ```

  1. 逻辑或：表达式1 || 表达式2

  - 如果第一个表达式的值为真，则返回表达式1  
  - 如果第一个表达式的值为假，则返回表达式2

  

  ```js
  console.log( 123 || 456 );         //  123
  console.log( 0 ||  456 );          //  456
  console.log( 123 || 456 || 789 );  //  123
  ```

  ### 赋值运算符 

  用来把数据赋值给变量的运算符

  ![image.png](https://cdn.nlark.com/yuque/0/2020/png/335089/1577971712302-cf352d28-12d4-4046-b2ef-601d3e64fab6.png)

  

  ```js
  var age = 10;
  age += 5;  // 相当于 age = age + 5;
  age -= 5;  // 相当于 age = age - 5;
  age *= 10; // 相当于 age = age * 10;
  ```

  

  ### 运算符优先级

![image.png](https://cdn.nlark.com/yuque/0/2020/png/335089/1577971910750-d003029f-f0e5-49f5-88f9-d19ccf380f05.png)

- 一元运算符里面的逻辑非优先级很高
- 逻辑与比逻辑或优先级高 

```js
console.log(4 >= 6 || '人' != '阿凡达' && !(12 * 2 == 144) && true)     //true
var num = 10;
console.log(5 == num / 2 && (2 + 2 * num).toString() === '22');         //true
```

